import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yDQojY29kaW5nPXV0Zi04DQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KI1RFQ0ggQUJNIFRIRSBPRkZJQ0FMIFJPR1JBTU1FUiANCiNGQkNMT05JTkcgQ09NTU1BRCBNQUtFUiANCiNZT1VUVUJFIFRFQ0ggQUJNDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KDQppbXBvcnQgb3MsIHN5cywgdGltZSwgbWVjaGFuaXplLCBpdGVydG9vbHMsIGRhdGV0aW1lLCByYW5kb20sIGhhc2hsaWIsIHJlLCB0aHJlYWRpbmcsIGpzb24sIGdldHBhc3MsIHVybGxpYiwgY29va2llbGliDQpmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sDQpQID0gJ1x4MWJbMTs5N20nDQpNID0gJ1x4MWJbMTs5MW0nDQpIID0gJ1x4MWJbMTs5Mm0nDQpLID0gJ1x4MWJbMTs5M20nDQpCID0gJ1x4MWJbMTs5NG0nDQpVID0gJ1x4MWJbMTs5NW0nDQpPID0gJ1x4MWJbMTs5Nm0nDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kd2FybmkgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0KdHJ5Og0KICAgIGltcG9ydCBtZWNoYW5pemUNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBvcy5zeXN0ZW0oJ3BpcDIgaW5zdGFsbCBtZWNoYW5pemUnKQ0KDQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgcmVxdWVzdHMnKQ0KICAgIG9zLnN5c3RlbSgncHl0aG9uMiBEYXJrLUNsb25pbmcucHknKQ0KDQpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZnJvbSBtZWNoYW5pemUgaW1wb3J0IEJyb3dzZXINCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQpyZWxvYWQoc3lzKQ0Kc3lzLnNldGRlZmF1bHRlbmNvZGluZygndXRmOCcpDQpiciA9IG1lY2hhbml6ZS5Ccm93c2VyKCkNCmJyLnNldF9oYW5kbGVfcm9ib3RzKEZhbHNlKQ0KYnIuc2V0X2hhbmRsZV9yZWZyZXNoKG1lY2hhbml6ZS5faHR0cC5IVFRQUmVmcmVzaFByb2Nlc3NvcigpLCBtYXhfdGltZT0xKQ0KYnIuYWRkaGVhZGVycyA9IFsoJ1VzZXItQWdlbnQnLCAnT3BlcmEvOS44MCAoQW5kcm9pZDsgT3BlcmEgTWluaS8zMi4wLjIyNTQvODUuIFU7IGlkKSBQcmVzdG8vMi4xMi40MjMgVmVyc2lvbi8xMi4xNicpXQ0Kb3Muc3lzdGVtKCdjbGVhcicpDQpkb25lID0gRmFsc2UNCg0KZGVmIGFuaW1hdGUoKToNCiAgICBmb3IgYyBpbiBpdGVydG9vbHMuY3ljbGUoWydceDFiWzE7OTZtfCcsICdceDFiWzE7OTJtLycsICdceDFiWzE7OTVtLScsICdceDFiWzE7OTFtXFwnXSk6DQogICAgICAgIGlmIGRvbmU6DQogICAgICAgICAgICBicmVhaw0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcclx4MWJbMTs5M21Mb2FkaW5nICcgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYyArIGMgKyBjICsgYykNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHRpbWUuc2xlZXAoMC4xKQ0KDQoNCnQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1hbmltYXRlKQ0KdC5zdGFydCgpDQp0aW1lLnNsZWVwKDUpDQpkb25lID0gVHJ1ZQ0KDQpkZWYga2VsdWFyKCk6DQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBLZWx1YXInDQogICAgb3Muc3lzLmV4aXQoKQ0KDQoNCmRlZiBhY2FrKHgpOg0KICAgIHcgPSAnbWhrYnBjUCcNCiAgICBkID0gJycNCiAgICBmb3IgaSBpbiB4Og0KICAgICAgICBkICs9ICchJyArIHdbcmFuZG9tLnJhbmRpbnQoMCwgbGVuKHcpIC0gMSldICsgaQ0KDQogICAgcmV0dXJuIGNldGFrKGQpDQoNCg0KZGVmIGNldGFrKHgpOg0KICAgIHcgPSAnbWhrYnBjUCcNCiAgICBmb3IgaSBpbiB3Og0KICAgICAgICBqID0gdy5pbmRleChpKQ0KICAgICAgICB4ID0geC5yZXBsYWNlKCchJXMnICUgaSwgJyVzOycgJSBzdHIoMzEgKyBqKSkNCg0KICAgIHggKz0gJycNCiAgICB4ID0geC5yZXBsYWNlKCchMCcsICcnKQ0KICAgIHN5cy5zdGRvdXQud3JpdGUoeCArICdcbicpDQoNCg0KZGVmIGphbGFuKHopOg0KICAgIGZvciBlIGluIHogKyAnXG4nOg0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICB0aW1lLnNsZWVwKDAuMDAwMykNCg0KIyBUZWNoX0FibQ0KbG9nbyA9ICIiIg0KXDAzM1sxOzk1bSBfX19fXyBfX19fXyBfX19fXyAgXyAgIF8gICAgX19fICBfX19fX19fX18gIF9fXw0KXDAzM1sxOzk3bXxfICAgX3wgIF9fXy8gIF9fIFx8IHwgfCB8ICAvIF8gXCB8IF9fXyBcICBcLyAgfA0KXDAzM1sxOzk1bSAgfCB8IHwgfF9fIHwgLyAgXC98IHxffCB8IC8gL19cIFx8IHxfLyAvIC4gIC4gfA0KXDAzM1sxOzk3bSAgfCB8IHwgIF9ffHwgfCAgICB8ICBfICB8IHwgIF8gIHx8IF9fXyBcIHxcL3wgfA0KXDAzM1sxOzk1bSAgfCB8IHwgfF9fX3wgXF9fL1x8IHwgfCB8IHwgfCB8IHx8IHxfLyAvIHwgIHwgfA0KXDAzM1sxOzk3bSAgXF8vIFxfX19fLyBcX19fXy9cX3wgfF8vIFxffCB8Xy9cX19fXy9cX3wgIHxfLw0KXDAzM1sxOzk3bT4+PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClwwMzNbMTs5N20+PiBcMDMzWzE7OTVtQXV0aG9yIFwwMzNbMTs5MW06IFwwMzNbMTs5M21UZWNoIHwgQWJtDQpcMDMzWzE7OTdtPj4gXDAzM1sxOzk1bUdpdGh1YiBcMDMzWzE7OTFtOiBcMDMzWzE7OTNtaHR0cHM6Ly9naXRodWIuY29tL1RlY2gtYWJtIA0KXDAzM1sxOzk3bT4+IFwwMzNbMTs5NW1GYiBQYWdlIFwwMzNbMTs5MW06IFwwMzNbMTs5M21odHRwczovL20uZmFjZWJvb2suY29tL1RlY2hhYm0NClwwMzNbMTs5N20+Pj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoiIiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCmJhY2sgPSAwDQp0aHJlYWRzID0gW10NCmJlcmhhc2lsID0gW10NCmNla3BvaW50ID0gW10NCm9rcyA9IFtdDQpva2UgPSBbXQ0KaWQgPSBbXQ0KDQpkZWYgbWFzdWsoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtMDFceDFiWzE7OTdtfVx4MWJbMTs5Mm0gTG9naW4gVG9rZW4gRmFjZWJvb2snDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtMDJceDFiWzE7OTdtfVx4MWJbMTs5Mm0gRG93bmxvYWQgVG9rZW4gQXBwJw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybTAzXHgxYlsxOzk3bX1ceDFiWzE7OTJtIExvZ2luIFdpdGggRmFjZWJvb2snDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtMDBceDFiWzE7OTdtfVx4MWJbMTs5MW0gRXhpdCcNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHBpbGloX21hc3VrKCkNCg0KDQpkZWYgcGlsaWhfbWFzdWsoKToNCiAgICBtc3VrID0gcmF3X2lucHV0KCdceDFiWzE7OTBtU2xlY3QgT3B0aW9uc1x4MWJbOTFtOlx4MWJbMTs5Mm0gJykNCiAgICBpZiBtc3VrID09ICcnOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bVtceDFiWzE7OTFtIVx4MWJbMTs5N21dIEZpbGwgQ29ycmVjdGx5ICEnDQogICAgICAgIHBpbGloX21hc3VrKCkNCiAgICBlbGlmIG1zdWsgPT0gJzEnIG9yIG1zdWsgPT0gJzAxJzoNCiAgICAgICAgdG9rZW56KCkNCiAgICBlbGlmIG1zdWsgPT0gJzInIG9yIG1zdWsgPT0gJzAyJzoNCiAgICAgICAgYW1iaWxfdG9rZW4oKQ0KICAgIGVsaWYgbXN1ayA9PSAnMycgb3IgbXN1ayA9PSAnMDMnOg0KICAgICAgICBsb2dpbigpDQogICAgZWxpZiBtc3VrID09ICcwJyBvciBtc3VrID09ICcwMCc6DQogICAgICAgIGtlbHVhcigpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21bXHgxYlsxOzkxbSFceDFiWzE7OTdtXSBGaWxsIENvcnJlY3RseSAhJw0KICAgICAgICBwaWxpaF9tYXN1aygpDQoNCg0KZGVmIHRva2VueigpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KCXRva2V0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBHaXZlIFRva2VuXDAzM1sxOzk1Pj5cMDMzWzE7OTdtICIpDQoJcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCgl0cnk6DQoJCW90dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpDQoJCWEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQ0KCQluYW1hID0gYVsnbmFtZSddDQoJCXplZGQgPSBvcGVuKCJsb2dpbi50eHQiLCAndycpDQoJCXplZGQud3JpdGUodG9rZXQpDQoJCXplZGQuY2xvc2UoKQ0KCQltZW51KCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIg0KCQlwcmludCgiXG5ceDFiWzE7OTdtIEFjY291bnQgTWF5YmUgQ2hlY2twb2ludCAiKQ0KDQoNCmRlZiBhbWJpbF90b2tlbigpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9wbGF5Lmdvb2dsZS5jb20vc3RvcmUvYXBwcy9kZXRhaWxzP2lkPWNvbS5wcm9pdC50aGFpc29uLmdldGFjY2Vzc3Rva2VuZmFjZWJvb2snKQ0KICAgIHRpbWUuc2xlZXAoMikNCiAgICBtYXN1aygpDQoNCg0KZGVmIGxvZ2luKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgdHJ5Og0KICAgICAgICB0b2tldCA9IG9wZW4oJ2xvZ2luLnR4dCcsICdyJykNCiAgICAgICAgbWVudSgpDQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCBsb2dvDQogICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQoJamFsYW4oJ1wwMzNbMTs5Nm1b4py+XVx4MWJbMTs5MW1ETyBOT1QgVVNFIE9MRCBBQ0NPVU5UIFRPIExPR0lOXHgxYlsxOzk2bVvinL5dJyApDQoJdGltZS5zbGVlcCgwLjA1KQkJDQoJamFsYW4oJ1wwMzNbMTs5Nm1b4py+XVx4MWJbMTs5MW1VU0UgQSBGUkVTSC9ORVcgQUNDT1VOVCBUTyBMT0dJTlx4MWJbMTs5Nm1b4py+XScgKQkNCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgaWQgPSByYXdfaW5wdXQoJ1x4MWJbMTs5N21bK10gXHgxYlsxOzk0bUlEL0VtYWlsXHgxYlsxOzk3bTogXHgxYlsxOzk0bScpDQogICAgICAgIHB3ZCA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bVsrXSBceDFiWzE7OTRtUGFzc3dvcmRceDFiWzE7OTdtOiBceDFiWzE7OTRtJykNCiAgICAgICAgbWVudSgpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGJyLm9wZW4oJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nKQ0KICAgICAgICBleGNlcHQgbWVjaGFuaXplLlVSTEVycm9yOg0KICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bVRoZXJlIGlzIG5vIGludGVybmV0IGNvbm5lY3Rpb24nDQogICAgICAgICAgICBrZWx1YXIoKQ0KDQogICAgICAgIGJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlDQogICAgICAgIGJyLnNlbGVjdF9mb3JtKG5yPTApDQogICAgICAgIGJyLmZvcm1bJ2VtYWlsJ10gPSBpZA0KICAgICAgICBici5mb3JtWydwYXNzJ10gPSBwd2QNCiAgICAgICAgYnIuc3VibWl0KCkNCiAgICAgICAgdXJsID0gYnIuZ2V0dXJsKCkNCiAgICAgICAgaWYgJ3NhdmUtZGV2aWNlJyBpbiB1cmw6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgc2lnID0gJ2FwaV9rZXk9ODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGRjcmVkZW50aWFsc190eXBlPXBhc3N3b3JkZW1haWw9JyArIGlkICsgJ2Zvcm1hdD1KU09OZ2VuZXJhdGVfbWFjaGluZV9pZD0xZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTFsb2NhbGU9ZW5fVVNtZXRob2Q9YXV0aC5sb2dpbnBhc3N3b3JkPScgKyBwd2QgKyAncmV0dXJuX3NzbF9yZXNvdXJjZXM9MHY9MS4wNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInDQogICAgICAgICAgICAgICAgZGF0YSA9IHsnYXBpX2tleSc6ICc4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCcsICdjcmVkZW50aWFsc190eXBlJzogJ3Bhc3N3b3JkJywgJ2VtYWlsJzogaWQsICdmb3JtYXQnOiAnSlNPTicsICdnZW5lcmF0ZV9tYWNoaW5lX2lkJzogJzEnLCAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLCAnbG9jYWxlJzogJ2VuX1VTJywgJ21ldGhvZCc6ICdhdXRoLmxvZ2luJywgJ3Bhc3N3b3JkJzogcHdkLCAncmV0dXJuX3NzbF9yZXNvdXJjZXMnOiAnMCcsICd2JzogJzEuMCd9DQogICAgICAgICAgICAgICAgeCA9IGhhc2hsaWIubmV3KCdtZDUnKQ0KICAgICAgICAgICAgICAgIHgudXBkYXRlKHNpZykNCiAgICAgICAgICAgICAgICBhID0geC5oZXhkaWdlc3QoKQ0KICAgICAgICAgICAgICAgIGRhdGEudXBkYXRlKHsnc2lnJzogYX0pDQogICAgICAgICAgICAgICAgdXJsID0gJ2h0dHBzOi8vYXBpLmZhY2Vib29rLmNvbS9yZXN0c2VydmVyLnBocCcNCiAgICAgICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KHVybCwgcGFyYW1zPWRhdGEpDQogICAgICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICAgICAgICAgIHVuaWtlcnMgPSBvcGVuKCdsb2dpbi50eHQnLCAndycpDQogICAgICAgICAgICAgICAgdW5pa2Vycy53cml0ZSh6WydhY2Nlc3NfdG9rZW4nXSkNCiAgICAgICAgICAgICAgICB1bmlrZXJzLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTZtTG9naW4gU3VjY2Vzc2Z1bC5ceGUyXHg4MFx4YTJceGUyXHg5N1x4ODhceGUyXHg4MFx4YTIuLicNCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vbS5mYWNlYm9vay5jb20vVGVjaGFibScpDQogICAgICAgICAgICAgICAgcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9tZXRob2Q9cG9zdCZ1aWRzPWd3aW11c2EzJmFjY2Vzc190b2tlbj0nICsgelsnYWNjZXNzX3Rva2VuJ10pDQogICAgICAgICAgICAgICAgYm90X2tvbWVuKCkNCiAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdtVGhlcmUgaXMgbm8gaW50ZXJuZXQgY29ubmVjdGlvbicNCiAgICAgICAgICAgICAgICBrZWx1YXIoKQ0KDQogICAgICAgIGlmICdjaGVja3BvaW50JyBpbiB1cmw6DQogICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdtWW91ciBBY2NvdW50IGlzIG9uIENoZWNrcG9pbnQnDQogICAgICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KICAgICAgICAgICAgdGltZS5zbGVlcCgxKQ0KICAgICAgICAgICAga2VsdWFyKCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5NG1QYXNzd29yZC9FbWFpbCBpcyB3cm9uZycNCiAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpDQogICAgICAgICAgICBtYXN1aygpDQoNCg0KZGVmIGJvdF9rb21lbigpOg0KICAgIHRyeToNCiAgICAgICAgdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bVshXSBUb2tlbiBpbnZhbGlkJw0KICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KDQogICAgdW5hID0gJzEwMDAxMzE4NTA3MTA0MScNCiAgICBrb20gPSAnVXNlIFRlY2ggQWJtIFx4ZjBceDlmXHg5OFx4OTgnDQogICAgcmVhYyA9ICdBTkdSWScNCiAgICBwb3N0ID0gJzkzNzc3Nzk1MzMzODM2NScNCiAgICBwb3N0MiA9ICc5Mzg5NTQwODY1NTQwODUnDQogICAga29tMiA9ICdHcmVhdCBsb3ZlaGFja2VyIFx4ZjBceDlmXHg5OFx4ODEnDQogICAgcmVhYzIgPSAnTE9WRScNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP21ldGhvZD1wb3N0JnVpZHM9JyArIHVuYSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgcG9zdCArICcvY29tbWVudHMvP21lc3NhZ2U9JyArIGtvbSArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgcG9zdCArICcvcmVhY3Rpb25zP3R5cGU9JyArIHJlYWMgKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIHBvc3QyICsgJy9jb21tZW50cy8/bWVzc2FnZT0nICsga29tMiArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgcG9zdDIgKyAnL3JlYWN0aW9ucz90eXBlPScgKyByZWFjMiArICcmYWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICBtZW51KCkNCg0KDQpkZWYgbWVudSgpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHRyeToNCiAgICAgICAgdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBwcmludCAneyF9IFRva2VuIEludmFsaWQgIScNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIG1hc3VrKCkNCg0KICAgIHRyeToNCiAgICAgICAgb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS8/YWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICAgICAgYSA9IGpzb24ubG9hZHMob3R3LnRleHQpDQogICAgICAgIG5hbWEgPSBhWyduYW1lJ10NCiAgICAgICAgaWQgPSBhWydpZCddDQogICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQnDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAgbWFzdWsoKQ0KICAgICAgICB0aW1lLnNsZWVwKDEpDQogICAgICAgIG1hc3VrKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIHByaW50ICd7IX0gTm8gY29ubmVjdGlvbicNCiAgICAgICAga2VsdWFyKCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Nm1ceGUyXHg4MFx4YTJceDFiWzE7OTdtfVx4MWJbMTs5NW0gTkFNQVx4MWJbMTs5MG0gICAgPT5ceDFiWzE7OTJtICcgKyBuYW1hDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzk2bVx4ZTJceDgwXHhhMlx4MWJbMTs5N219XHgxYlsxOzk1bSBVU0VSIElEXHgxYlsxOzkwbSA9Plx4MWJbMTs5Mm0gJyArIGlkDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnXHgxYlsxOzk3bXsnICsgd2FybmkgKyAnMDFceDFiWzE7OTdtfScgKyB3YXJuYSArICcgXDAzM1sxOzk0bUNsb25lIEZyb20gRnJpZW5kL1B1YmxpYycNCiAgICBwcmludCAnXHgxYlsxOzk3bXsnICsgd2FybmkgKyAnMDJceDFiWzE7OTdtfScgKyB3YXJuYSArICcgXDAzM1sxOzk0bUNsb25lIEZyb20gR3JvdXAgLyBGcmllbmQgUG9zdHMnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217JyArIHdhcm5pICsgJzAzXHgxYlsxOzk3bX0nICsgd2FybmEgKyAnIFwwMzNbMTs5NG1DbG9uZSBGcm9tIFRvdGFsIEZvbGxvd2VycycNCiAgICBwcmludCAnXHgxYlsxOzk3bXsnICsgd2FybmkgKyAnMDRceDFiWzE7OTdtfScgKyB3YXJuYSArICdcMDMzWzE7OTRtIENsb25lIFVzaW5nIGEgVXNlcm5hbWUnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217JyArIHdhcm5pICsgJzA1XHgxYlsxOzk3bX0nICsgd2FybmEgKyAnIFwwMzNbMTs5NG1VcGRhdGUgVG9vbHMnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbTAwXHgxYlsxOzk3bX0nICsgd2FybmEgKyAnXDAzM1sxOzkxbSBCYWNrJw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcGlsaWgoKQ0KDQoNCmRlZiBwaWxpaCgpOg0KICAgIHVuaWtlcnMgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Mm1TbGVjdCBPcHRpb25zIFx4MWJbOTFtOlx4MWJbMTs5Mm0gJykNCiAgICBpZiB1bmlrZXJzID09ICcnOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219XHgxYlsxOzk3bSAgRmlsbCBDb3JyZWN0bHkhJw0KICAgICAgICBwaWxpaCgpDQogICAgZWxpZiB1bmlrZXJzID09ICcxJyBvciB1bmlrZXJzID09ICcwMSc6DQogICAgICAgIGNyYWNrX3RlbWFuKCkNCiAgICBlbGlmIHVuaWtlcnMgPT0gJzInIG9yIHVuaWtlcnMgPT0gJzAyJzoNCiAgICAgICAgY3JhY2tfbGlrZXMoKQ0KICAgIGVsaWYgdW5pa2VycyA9PSAnMycgb3IgdW5pa2VycyA9PSAnMDMnOg0KICAgICAgICBjcmFja19mb2xsb3coKQ0KICAgIGVsaWYgdW5pa2VycyA9PSAnNCcgb3IgdW5pa2VycyA9PSAnMDQnOg0KICAgICAgICB1c2VyX2lkKCkNCiAgICBlbGlmIHVuaWtlcnMgPT0gJzUnIG9yIHVuaWtlcnMgPT0gJzA1JzoNCiAgICAgICAgcGVyYmFydWkoKQ0KICAgIGVsaWYgdW5pa2VycyA9PSAnMCcgb3IgdW5pa2VycyA9PSAnMDAnOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgamFsYW4oJ1JlbW92ZSB0b2tlbicpDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIGtlbHVhcigpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfVx4MWJbMTs5N20gRmlsbCBDb3JyZWN0bHkgIScNCiAgICAgICAgcGlsaWgoKQ0KDQoNCmRlZiBjcmFja190ZW1hbigpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdteycgKyB3YXJuYSArICcwMVx4MWJbMTs5N219JyArIHdhcm5pICsgJ1wwMzNbMTs5NG0gSGFjayBQYWtpc3RhbiBJRCAnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217JyArIHdhcm5hICsgJzAyXHgxYlsxOzk3bX0nICsgd2FybmkgKyAnXDAzM1sxOzk0bSBIYWNrIEJhbmdsYWRlc2ggSUQnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217JyArIHdhcm5hICsgJzAzXHgxYlsxOzk3bX0nICsgd2FybmkgKyAnXDAzM1sxOzk0bSBIY2sgVVNBIElEJw0KICAgIHByaW50ICdceDFiWzE7OTdteycgKyB3YXJuYSArICcwNFx4MWJbMTs5N219JyArIHdhcm5pICsgJ1wwMzNbMTs5NG0gSGFjayBJbmRvbmVzaWEgSUQnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbTAwXHgxYlsxOzk3bX0nICsgd2FybmkgKyAnIEJhY2snDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwaWxpaF90ZW1hbigpDQoNCg0KZGVmIHBpbGloX3RlbWFuKCk6DQogICAgdW5pdiA9IHJhd19pbnB1dCgnJyArIHdhcm5hICsgJ1NsZWN0IE9wdGlvbnNceDFiWzkxbTpceDFiWzE7OTJtICcpDQogICAgaWYgdW5pdiA9PSAnJzoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfVx4MWJbMTs5N20gRmlsbCBDb3JyZWN0bHkgIScNCiAgICAgICAgcGlsaWhfdGVtYW4oKQ0KICAgIGVsaWYgdW5pdiA9PSAnMScgb3IgdW5pdiA9PSAnMDEnOg0KICAgICAgICBjcmFja19wYWtpcygpDQogICAgZWxpZiB1bml2ID09ICcyJyBvciB1bml2ID09ICcwMic6DQogICAgICAgIGNyYWNrX2JhbmdsYSgpDQogICAgZWxpZiB1bml2ID09ICczJyBvciB1bml2ID09ICcwMyc6DQogICAgICAgIGNyYWNrX3VzYSgpDQogICAgZWxpZiB1bml2ID09ICc0JyBvciB1bml2ID09ICcwNCc6DQogICAgICAgIGNyYWNrX2luZG8oKQ0KICAgIGVsaWYgdW5pdiA9PSAnNScgb3IgdW5pdiA9PSAnMDUnOg0KICAgICAgICB1bml2KCkNCiAgICBlbGlmIHVuaXYgPT0gJzAnIG9yIHVuaXYgPT0gJzAwJzoNCiAgICAgICAgbWVudSgpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfVx4MWJbMTs5N20gRmlsbCBDb3JyZWN0bHkgIScNCiAgICAgICAgcGlsaWhfdGVtYW4oKQ0KDQpkZWYgY3JhY2tfcGFraXMoKToNCiAgICBnbG9iYWwgdG9rZXQNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICB0cnk6DQogICAgICAgIHRva2V0ID0gb3BlbignbG9naW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQnDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAga2VsdWFyKCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M20wMVx4MWJbMTs5N219IFwwMzNbMTs5Mm1IYWNrIEZyb20gRnJpZW5kIGxpc3QnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbTAyXHgxYlsxOzk3bX0gXDAzM1sxOzkybUhhY2sgRnJvbSBQdWJsaWMgRnJlbmRsaXN0Jw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M20wM1x4MWJbMTs5N219IFwwMzNbMTs5Mm1IYWNrIEZyb20gRmlsZScNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtMDBceDFiWzE7OTdtfSBCYWNrJw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcGlsaWhfcGFraXMoKQ0KDQoNCmRlZiBwaWxpaF9wYWtpcygpOg0KICAgIGdsb2JhbCBjZWtwb2ludA0KICAgIGdsb2JhbCBva3MNCiAgICB0ZWFrID0gcmF3X2lucHV0KCdceDFiWzE7OTNtU2xlY3QgT3B0aW9ucyBceDFiWzkxbTpceDFiWzE7OTJtICcpDQogICAgaWYgdGVhayA9PSAnJzoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfVx4MWJbMTs5N20gRmlsbCBDb3JyZWN0bHkgIScNCiAgICAgICAgcGlsaWhfKCkNCiAgICBlbHNlOg0KICAgICAgICBpZiB0ZWFrID09ICcxJyBvciB0ZWFrID09ICcwMSc6DQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgICAgICAgICBwcmludCAnICAgICAgICAgICAgIFx4MWJbMTs5M21ceGUyXHg4OFx4OWFceGUyXHg4OFx4OWFceGUyXHg4OFx4OWEgXHgxYlsxOzk3bUNSQUNLIFBBS0lTVEFOIFx4MWJbMTs5M21ceGUyXHg4OFx4OWFceGUyXHg4OFx4OWFceGUyXHg4OFx4OWEnDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICAgICAgZm9yIHMgaW4gelsnZGF0YSddOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZChzWydpZCddKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMicgb3IgdGVhayA9PSAnMDInOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgcHJpbnQgJyAgICAgICAgXHgxYlsxOzkzbVx4ZTJceDg4XHg5YVx4ZTJceDg4XHg5YVx4ZTJceDg4XHg5YSBceDFiWzE7OTdtQ1JBQ0sgUEFLSVNUQU4gXHgxYlsxOzkzbVx4ZTJceDg4XHg5YVx4ZTJceDg4XHg5YVx4ZTJceDg4XHg5YScNCiAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgICAgICAgICBpZHQgPSByYXdfaW5wdXQoJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5M21JRCBQdWJsaWMvZnJpZW5kIFx4MWJbMTs5MW06XHgxYlsxOzkybSAnKQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHBvayA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICAgICAgICAgICAgICBzcCA9IGpzb24ubG9hZHMocG9rLnRleHQpDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219XHgxYlsxOzkzbSBOYW1lIFx4MWJbMTs5MW06XHgxYlsxOzkybSAnICsgc3BbJ25hbWUnXQ0KICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW0hXHgxYlsxOzk3bX0gSUQgcHVibGljIC8gZnJpZW5kIGRvZXMgbm90IGV4aXN0ICEnDQogICAgICAgICAgICAgICAgcmF3X2lucHV0KCdcblx4MWJbMTs5M217XHgxYlsxOzk3bTxCYWNrPlx4MWJbMTs5M219JykNCiAgICAgICAgICAgICAgICBjcmFja19wYWtpcygpDQogICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBObyBjb25uZWN0aW9uIScNCiAgICAgICAgICAgICAgICBrZWx1YXIoKQ0KDQogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgICAgICAgICAgaWQuYXBwZW5kKGlbJ2lkJ10pDQoNCiAgICAgICAgZWxpZiB0ZWFrID09ICczJyBvciB0ZWFrID09ICcwMyc6DQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgICAgIHByaW50ICcgICAgICAgICAgICAgXHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZiBceDFiWzE7OTdtQ1JBQ0sgUEFLSVNUQU4gXHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZicNCiAgICAgICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgICAgIGlkbGlzdCA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkzbU5hbWUgRmlsZVx4MWJbMTs5MW0gOlx4MWJbMTs5Mm0gJykNCiAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwgJ3InKS5yZWFkbGluZXMoKToNCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkNCg0KICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW0hXHgxYlsxOzk3bX0gRmlsZSB0aGVyZSBpcyBubyAhICcNCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzkybVsgXHgxYlsxOzk3bUJhY2sgXHgxYlsxOzkybV0nKQ0KICAgICAgICAgICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBGaWxlIHRoZXJlIGlzIG5vICEnDQogICAgICAgICAgICAgICAgcmF3X2lucHV0KCdcblx4MWJbMTs5M217XHgxYlsxOzk3bTxCYWNrPlx4MWJbMTs5M219JykNCiAgICAgICAgICAgICAgICBjcmFja19pbmRvKCkNCg0KICAgICAgICBlbGlmIHRlYWsgPT0gJzAnIG9yIHRlYWsgPT0gJzAwJzoNCiAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21bXHgxYlsxOzkxbSFceDFiWzE7OTdtXVx4MWJbMTs5N20gRmlsbCBDb3JyZWN0bHkgIScNCiAgICAgICAgICAgIHBpbGloX3Bha2lzKCkNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5M21Ub3RhbCBJRCBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJyArIHN0cihsZW4oaWQpKQ0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkzbVN0b3AgdGhlbiBDVFJMK1onDQogICAgICAgIHRpdGlrID0gWycuICAgJywgJy4uICAnLCAnLi4uICddDQogICAgICAgIGZvciBvIGluIHRpdGlrOg0KICAgICAgICAgICAgcHJpbnQgJ1xyXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNsb25pbmcgc3RhcnRpbmcgJyArIG8sDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1Vc2UgQWlycGxhbmUgTW9kZSBJZiBOb3RoaW5nIElzIFdvcmtpbmcnDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCg0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHpvd2UgPSBhcmcNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgoJ1xye30nKS5mb3JtYXQoZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJ1x4MWJbMTs5Nm0lSFx4MWJbMTs5MW06XHgxYlsxOzkzbSVNXHgxYlsxOzkxbTpceDFiWzE7OTJtJVMgXHgxYlsxOzk3bScgKyBzdHIobGVuKHpvd2UpKSkpKQ0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICBvcy5ta2RpcignZG9uZScpDQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOg0KICAgICAgICAgICAgcGFzcw0KDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGFuID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgem93ZSArICcvP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgICAgICBqID0ganNvbi5sb2Fkcyhhbi50ZXh0KQ0KICAgICAgICAgICAgYm9zMSA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMycNCiAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3MxDQogICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczENCiAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGJvczIgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0Jw0KICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczIgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3MyDQogICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczINCiAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGJvczMgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NScNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zMyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0VLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGJvczQgPSAnUGFraXN0YW4nDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3M0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3M1ID0gJ1Bha2lzdGFuMTIzJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczYgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NTYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczYgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M2DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczcgPSBqWydsYXN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1NicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczcgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M3DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczggPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICc3ODYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zOCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M4ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zOA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M4ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgIHAgPSBUaHJlYWRQb29sKDMwKQ0KICAgIHAubWFwKG1haW4sIGlkKQ0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5M21GaW5pc2hlZCAuLi4nDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5M21Ub3RhbCBceDFiWzE7OTJtT0tceDFiWzE7OTdtL1x4MWJbMTs5M21DUCBceDFiWzE7OTdtOiBceDFiWzE7OTJtJyArIHN0cihsZW4ob2tzKSkgKyAnXHgxYlsxOzk3bS9ceDFiWzE7OTNtJyArIHN0cihsZW4oY2VrcG9pbnQpKQ0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTJtT0tceDFiWzE7OTdtL1x4MWJbMTs5M21DUCBceDFiWzE7OTNtZmlsZSBTYXZlIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm1kb25lL2luZG8udHh0Jw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcmF3X2lucHV0KCdceDFiWzE7OTdtezxceDFiWzE7OTNtQmFja1x4MWJbMTs5N20+fScpDQogICAgb3Muc3lzdGVtKCdweXRob24yIERhcmstQ2xvbmluZy5weScpDQoNCg0KZGVmIGNyYWNrX2JhbmdsYSgpOg0KICAgIGdsb2JhbCB0b2tldA0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHRyeToNCiAgICAgICAgdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IFRva2VuIGludmFsaWQnDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAga2VsdWFyKCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M20wMVx4MWJbMTs5N219XDAzM1sxOzk0bSBIYWNrIEZyb20gRnJpZW5kIGxpc3QnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbTAyXHgxYlsxOzk3bX1cMDMzWzE7OTRtIEhhY2sgRnJvbSBQdWJsaWMgRnJlbmRsaXN0Jw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M20wM1x4MWJbMTs5N219XDAzM1sxOzk0bSBIYWNrIEZyb20gRmlsZScNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtMDBceDFiWzE7OTdtfVwwMzNbMTs5MW0gQmFjaycNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHBpbGloX2JhbmdsYSgpDQoNCg0KZGVmIHBpbGloX2JhbmdsYSgpOg0KICAgIHRlYWsgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Nm1TbGVjdCBPcHRpb25zIFx4MWJbOTFtOlx4MWJbMTs5Mm0gJykNCiAgICBpZiB0ZWFrID09ICcnOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IEZpbGwgQ29ycmVjdGx5ICEnDQogICAgICAgIHBpbGloX2JhbmdsYSgpDQogICAgZWxzZToNCiAgICAgICAgaWYgdGVhayA9PSAnMScgb3IgdGVhayA9PSAnMDEnOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgcHJpbnQgJyAgICAgICAgICAgICBceDFiWzE7OTZtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmIFx4MWJbMTs5N21DUkFDSyBCQU5HTEFERVNIIFx4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYnDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICAgICAgZm9yIHMgaW4gelsnZGF0YSddOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZChzWydpZCddKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMicgb3IgdGVhayA9PSAnMDInOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgcHJpbnQgJyAgICAgICAgICAgICBceDFiWzE7OTZtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmIFx4MWJbMTs5N21DUkFDSyBCQU5HTEFERVNIIFx4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYnDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgaWRiID0gcmF3X2lucHV0KCdceDFiWzE7OTdte1x4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfVx4MWJbMTs5Nm0gSUQgUHVibGljL2ZyaWVuZCBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJykNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBwb2sgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZGIgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgICAgICAgICAgc3AgPSBqc29uLmxvYWRzKHBvay50ZXh0KQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfVx4MWJbMTs5Nm0gTmFtYSBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJyArIHNwWyduYW1lJ10NCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IElEIHB1YmxpYyAvIGZyaWVuZCBkb2VzIG5vdCBleGlzdCAhJw0KICAgICAgICAgICAgICAgIHJhd19pbnB1dCgnXG5ceDFiWzE7OTZte1x4MWJbMTs5N208QmFjaz5ceDFiWzE7OTZtfScpDQogICAgICAgICAgICAgICAgY3JhY2tfYmFuZ2xhKCkNCiAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCAneyF9IE5vIGludGVybmV0IENvbmVjdGlvbiEnDQogICAgICAgICAgICAgICAga2VsdWFyKCkNCg0KICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkYiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZChpWydpZCddKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMycgb3IgdGVhayA9PSAnMDMnOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgICAgICAgICBwcmludCAnICAgICAgICAgICAgIFx4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYgXHgxYlsxOzk3bUNSQUNLIEJBTkdMQURFU0ggXHgxYlsxOzk2bVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZicNCiAgICAgICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgICAgIGlkbGlzdCA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bXtceDFiWzE7OTZtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX1ceDFiWzE7OTZtIE5hbWUgRmlsZSBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJykNCiAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwgJ3InKS5yZWFkbGluZXMoKToNCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkNCg0KICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW0hXHgxYlsxOzk3bX0gRmlsZSBkb2VzIG5vdCBleGlzdCAhICcNCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzkybVsgXHgxYlsxOzk3bUJhY2sgXHgxYlsxOzkybV0nKQ0KICAgICAgICAgICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBGaWxlIGRvZXMgbm90IGV4aXN0ICEnDQogICAgICAgICAgICAgICAgcmF3X2lucHV0KCdcblx4MWJbMTs5Nm17XHgxYlsxOzk3bTxCYWNrPlx4MWJbMTs5Nm19JykNCiAgICAgICAgICAgICAgICBjcmFja19iYW5nbGEoKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMCcgb3IgdGVhayA9PSAnMDAnOg0KICAgICAgICAgICAgbWVudSgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IEZpbGwgQ29ycmVjdGx5ICEnDQogICAgICAgICAgICBwaWxpaF9iYW5nbGEoKQ0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTZtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX1ceDFiWzE7OTZtIFRvdGFsIElEIFx4MWJbMTs5MW06XHgxYlsxOzkybSAnICsgc3RyKGxlbihpZCkpDQogICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfVx4MWJbMTs5Nm0gU3RvcCBUZWthbiBDVFJMK1onDQogICAgICAgIHRpdGlrID0gWycuICAgJywgJy4uICAnLCAnLi4uICddDQogICAgICAgIGZvciBvIGluIHRpdGlrOg0KICAgICAgICAgICAgcHJpbnQgJ1xyXHgxYlsxOzk3bXtceDFiWzE7OTZtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX1ceDFiWzE7OTZtIENyYWNrIHN0YXJ0ICcgKyBvLA0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5NW1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTVtVXNlIEFpcnBsYW5lIE1vZGUgSWYgTm90aGluZyBJcyBXb3JraW5nJw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgZGVmIG1haW4oYXJnKToNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgoJ1xye30nKS5mb3JtYXQoZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJ1x4MWJbMTs5Nm0lSFx4MWJbMTs5MW06XHgxYlsxOzkzbSVNXHgxYlsxOzkxbTpceDFiWzE7OTJtJVMnKSkpDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICB6b3dlID0gYXJnDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG9zLm1rZGlyKCdkb25lJykNCiAgICAgICAgZXhjZXB0IE9TRXJyb3I6DQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyB6b3dlICsgJy8/YWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICAgICAgICAgIGogPSBqc29uLmxvYWRzKGFuLnRleHQpDQogICAgICAgICAgICBib3MxID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzJw0KICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zMSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczENCiAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMSArICdcbicpDQogICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zMQ0KICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMSArICdcbicpDQogICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgYm9zMiA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQnDQogICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczINCiAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zMg0KICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgYm9zMyA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1Jw0KICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3MzICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zMw0KICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DRUtQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zMw0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgYm9zNCA9ICdCYW5nbGFkZXNoJw0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zNCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9zNSA9ICdCYW5nbGFkZXNoMTIzJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczYgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NTYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczYgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M2DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczcgPSBqWydsYXN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1NicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczcgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M3DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczggPSAnQmFuZ2FsNzg2Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczggKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZCkNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtRmluaXNoZWQgLi4uJw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtVG90YWwgXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzk3bTogXHgxYlsxOzkybScgKyBzdHIobGVuKG9rcykpICsgJ1x4MWJbMTs5N20vXHgxYlsxOzkzbScgKyBzdHIobGVuKGNla3BvaW50KSkNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzkzbWZpbGUgU2F2ZSBceDFiWzE7OTFtOiBceDFiWzE7OTJtZG9uZS9pbmRvLnR4dCcNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHJhd19pbnB1dCgnXHgxYlsxOzk3bXs8XHgxYlsxOzkzbUJhY2tceDFiWzE7OTdtPn0nKQ0KICAgIG9zLnN5c3RlbSgncHl0aG9uMiBEYXJrLUNsb25pbmcucHknKQ0KDQoNCmRlZiBjcmFja191c2EoKToNCiAgICBnbG9iYWwgdG9rZXQNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICB0cnk6DQogICAgICAgIHRva2V0ID0gb3BlbignbG9naW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQnDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAga2VsdWFyKCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M20wMVx4MWJbMTs5N219IEhhY2sgRnJvbSBGcmllbmQgbGlzdCcNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtMDJceDFiWzE7OTdtfSBIYWNrIEZyb20gUHVibGljIEZyZW5kbGlzdCcNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtMDNceDFiWzE7OTdtfSBIYWNrIEZyb20gRmlsZScNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtMDBceDFiWzE7OTdtfSBCYWNrJw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcGlsaWhfdXNhKCkNCg0KDQpkZWYgcGlsaWhfdXNhKCk6DQogICAgdGVhayA9IHJhd19pbnB1dCgnXHgxYlsxOzk1bVNsZWN0IE9wdGlvbnMgXHgxYls5MW06XHgxYlsxOzkybSAnKQ0KICAgIGlmIHRlYWsgPT0gJyc6DQogICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW0hXHgxYlsxOzk3bX1ceDFiWzE7OTdtIEZpbGwgQ29ycmVjdGx5ICEnDQogICAgICAgIHBpbGloX3VzYSgpDQogICAgZWxzZToNCiAgICAgICAgaWYgdGVhayA9PSAnMScgb3IgdGVhayA9PSAnMDEnOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgcHJpbnQgJyAgICAgICAgICAgICAgICBceDFiWzE7OTVtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmIFx4MWJbMTs5N21DUkFDSyBVU0EgXHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZicNCiAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgICAgICAgICBmb3IgcyBpbiB6WydkYXRhJ106DQogICAgICAgICAgICAgICAgaWQuYXBwZW5kKHNbJ2lkJ10pDQoNCiAgICAgICAgZWxpZiB0ZWFrID09ICcyJyBvciB0ZWFrID09ICcwMic6DQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgICAgICAgICBwcmludCAnICAgICAgICAgICAgICAgIFx4MWJbMTs5NW1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYgXHgxYlsxOzk3bUNSQUNLIFVTQSBceDFiWzE7OTVtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmJw0KICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bUlEIFB1YmxpYy9GcmllbmQgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcpDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgam9rID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgICAgIG9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bU5hbWEgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcgKyBvcFsnbmFtZSddDQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBJRCBwdWJsaWMgLyBmcmllbmQgZG9lcyBub3QgZXhpc3QgIScNCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzk1bVtceDFiWzE7OTdtPEJhY2s+XHgxYlsxOzk1bV0nKQ0KICAgICAgICAgICAgICAgIGNyYWNrX3VzYSgpDQogICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBObyBpbnRlcm5ldCBDb25lY3Rpb24gIScNCiAgICAgICAgICAgICAgICBrZWx1YXIoKQ0KDQogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgICAgICAgICAgaWQuYXBwZW5kKGlbJ2lkJ10pDQoNCiAgICAgICAgZWxpZiB0ZWFrID09ICczJyBvciB0ZWFrID09ICcwMyc6DQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgICAgIHByaW50ICcgICAgICAgICAgICAgICAgXHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZiBceDFiWzE7OTdtQ1JBQ0sgVVNBIFx4MWJbMTs5NW1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYnDQogICAgICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgICAgICAgICBpZGxpc3QgPSByYXdfaW5wdXQoJ1x4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1OYW1hIEZpbGVceDFiWzE7OTFtIDpceDFiWzE7OTJtICcpDQogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gb3BlbihpZGxpc3QsICdyJykucmVhZGxpbmVzKCk6DQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChsaW5lLnN0cmlwKCkpDQoNCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IEZpbGUgZG9lcyBub3QgZXhpc3QhICcNCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzkybVsgXHgxYlsxOzk3bUJhY2sgXHgxYlsxOzkybV0nKQ0KICAgICAgICAgICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBGaWxlIGRvZXMgbm90IGV4aXN0ICEnDQogICAgICAgICAgICAgICAgcmF3X2lucHV0KCdcblx4MWJbMTs5NW1bXHgxYlsxOzk3bTxCYWNrPlx4MWJbMTs5NW1dJykNCiAgICAgICAgICAgICAgICBjcmFja191c2EoKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMCcgb3IgdGVhayA9PSAnMDAnOg0KICAgICAgICAgICAgbWVudSgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bVtceDFiWzE7OTFtIVx4MWJbMTs5N21dXHgxYlsxOzk3bSBGaWxsIENvcnJlY3RseSAhJw0KICAgICAgICAgICAgcGlsaWhfdXNhKCkNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1Ub3RhbCBJRCBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJyArIHN0cihsZW4oaWQpKQ0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bVN0b3AgVGVrYW4gQ1RSTCtaJw0KICAgICAgICB0aXRpayA9IFsnLiAgICcsICcuLiAgJywgJy4uLiAnXQ0KICAgICAgICBmb3IgbyBpbiB0aXRpazoNCiAgICAgICAgICAgIHByaW50ICdcclx4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1DcmFjayBTdGFydCAnICsgbywNCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICAgICAgdGltZS5zbGVlcCgxKQ0KDQogICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bVVzZSBBaXJwbGFuZSBNb2RlIElmIE5vdGhpbmcgSXMgV29ya2luZycNCiAgICBwcmludCAnXHgxYlsxOzk0bVx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MEJsYWNrTWFmaWFceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODAnDQoNCiAgICBkZWYgbWFpbihhcmcpOg0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCgnXHJ7fScpLmZvcm1hdChkYXRldGltZS5ub3coKS5zdHJmdGltZSgnXHgxYlsxOzk2bSVIXHgxYlsxOzkxbTpceDFiWzE7OTNtJU1ceDFiWzE7OTFtOlx4MWJbMTs5Mm0lUycpKSkNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHpvd2UgPSBhcmcNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgb3MubWtkaXIoJ2RvbmUnKQ0KICAgICAgICBleGNlcHQgT1NFcnJvcjoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBhbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIHpvd2UgKyAnLz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgaiA9IGpzb24ubG9hZHMoYW4udGV4dCkNCiAgICAgICAgICAgIGJvczEgPSAnaWxvdmV5b3UnDQogICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3MxICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zMQ0KICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3MxDQogICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBib3MyID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzNCcNCiAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3MyICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zMg0KICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3MyDQogICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBib3MzID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzNDUnDQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3MzDQogICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNFS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3MzDQogICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBib3M0ID0gJzEyMzQ1NicNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczQgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczUgPSAnQnJhbmQxMjMnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zNSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zNQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9zNiA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1NicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zNiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczYgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zNg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczYgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9zNyA9IGpbJ2xhc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzNDU2Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zNyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zNw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9zOCA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJ0AxMjM0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczggKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZCkNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtRmluaXNoZWQgLi4uJw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtVG90YWwgXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzk3bTogXHgxYlsxOzkybScgKyBzdHIobGVuKG9rcykpICsgJ1x4MWJbMTs5N20vXHgxYlsxOzkzbScgKyBzdHIobGVuKGNla3BvaW50KSkNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzkzbWZpbGUgU2F2ZSBceDFiWzE7OTFtOiBceDFiWzE7OTJtZG9uZS9pbmRvLnR4dCcNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHJhd19pbnB1dCgnXHgxYlsxOzk3bXs8XHgxYlsxOzkzbUJhY2tceDFiWzE7OTdtPn0nKQ0KICAgIG9zLnN5c3RlbSgncHl0aG9uMiBEYXJrLUNsb25pbmcucHknKQ0KDQoNCmRlZiBjcmFja19pbmRvKCk6DQogICAgZ2xvYmFsIHRva2V0DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgdHJ5Og0KICAgICAgICB0b2tldCA9IG9wZW4oJ2xvZ2luLnR4dCcsICdyJykucmVhZCgpDQogICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgIHByaW50ICdceDFiWzE7OTZtWyFdIFx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkJw0KICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KICAgICAgICB0aW1lLnNsZWVwKDEpDQogICAgICAgIGtlbHVhcigpDQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtMDFceDFiWzE7OTdtfVwwMzNbMTs5Mm0gQ3JhY2sgRnJvbSBGcmllbmQgbGlzdCcNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtMDJceDFiWzE7OTdtfVwwMzNbMTs5Mm0gQ3JhY2sgRnJvbSBQdWJsaWMgRnJlbmRsaXN0Jw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M20wM1x4MWJbMTs5N219XDAzM1sxOzkybSBDcmFjayBGcm9tIEZpbGUnDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbTAwXHgxYlsxOzk3bX1cMDMzWzE7OTFtIEJhY2snDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwaWxpaF9pbmRvKCkNCg0KDQpkZWYgcGlsaWhfaW5kbygpOg0KICAgIHRlYWsgPSByYXdfaW5wdXQoJ1x4MWJbMTs5MW1TbGVjdCBPcHRpb25zIFx4MWJbOTFtOlx4MWJbMTs5Mm0gJykNCiAgICBpZiB0ZWFrID09ICcnOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219XHgxYlsxOzk3bSBGaWxsIENvcnJlY3RseSAhJw0KICAgICAgICBwaWxpaF9pbmRvKCkNCiAgICBlbHNlOg0KICAgICAgICBpZiB0ZWFrID09ICcxJyBvciB0ZWFrID09ICcwMSc6DQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgICAgICAgICBwcmludCAnICAgICAgICAgICAgIFx4MWJbMTs5MW1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYgXHgxYlsxOzk3bUNSQUNLIFBBS0lTVEFOIFx4MWJbMTs5MW1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYnDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICAgICAgZm9yIHMgaW4gelsnZGF0YSddOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZChzWydpZCddKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMicgb3IgdGVhayA9PSAnMDInOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgICAgICAgICAgcHJpbnQgJyAgICAgICAgICAgICBceDFiWzE7OTFtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmIFx4MWJbMTs5N21DUkFDSyBQQUtJU1RBTiBceDFiWzE7OTFtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmJw0KICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bXtceDFiWzE7OTFtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkxbUlEIFB1YmxpYy9mcmllbmQgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcpDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgam9rID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWR0ICsgJz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgICAgIG9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkxbU5hbWEgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcgKyBvcFsnbmFtZSddDQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBJRCBwdWJsaWMgLyBmcmllbmQgZG9lcyBub3QgZXhpc3QgIScNCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzkxbVtceDFiWzE7OTdtPEJhY2s+XHgxYlsxOzkxbV0nKQ0KICAgICAgICAgICAgICAgIGNyYWNrX3Bha2lzKCkNCiAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IE5vIEludGVybmV0IENvbmVjdGlvbiEnDQogICAgICAgICAgICAgICAga2VsdWFyKCkNCg0KICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZChpWydpZCddKQ0KDQogICAgICAgIGVsaWYgdGVhayA9PSAnMycgb3IgdGVhayA9PSAnMDMnOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgICAgICAgICBwcmludCAnICAgICAgICAgICAgIFx4MWJbMTs5MW1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYgXHgxYlsxOzk3bUNSQUNLIFBBS0lTVEFOIFx4MWJbMTs5MW1ceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYnDQogICAgICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgICAgICAgICBpZGxpc3QgPSByYXdfaW5wdXQoJ1x4MWJbMTs5N217XHgxYlsxOzkxbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5MW1OYW1hIEZpbGVceDFiWzE7OTFtIDpceDFiWzE7OTJtICcpDQogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gb3BlbihpZGxpc3QsICdyJykucmVhZGxpbmVzKCk6DQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChsaW5lLnN0cmlwKCkpDQoNCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IEZpbGUgZG9lcyBub3QgZXhpc3QgISAnDQogICAgICAgICAgICAgICAgcmF3X2lucHV0KCdcblx4MWJbMTs5Mm1bIFx4MWJbMTs5N21CYWNrIFx4MWJbMTs5Mm1dJykNCiAgICAgICAgICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW0hXHgxYlsxOzk3bX0gRmlsZSBkb2VzIG5vdCBleGlzdCAhJw0KICAgICAgICAgICAgICAgIHJhd19pbnB1dCgnXG5ceDFiWzE7OTFtW1x4MWJbMTs5N208QmFjaz5ceDFiWzE7OTFtXScpDQogICAgICAgICAgICAgICAgY3JhY2tfaW5kbygpDQoNCiAgICAgICAgZWxpZiB0ZWFrID09ICcwJyBvciB0ZWFrID09ICcwMCc6DQogICAgICAgICAgICBtZW51KCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW0hXHgxYlsxOzk3bX1ceDFiWzE7OTdtIEZpbGwgQ29ycmVjdGx5ICEnDQogICAgICAgICAgICBwaWxpaF9wYWtpcygpDQogICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5MW1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTFtVG90YWwgSUQgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcgKyBzdHIobGVuKGlkKSkNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5MW1TdG9wIFRla2FuIENUUkwrWicNCiAgICAgICAgdGl0aWsgPSBbJy4gICAnLCAnLi4gICcsICcuLi4gJ10NCiAgICAgICAgZm9yIG8gaW4gdGl0aWs6DQogICAgICAgICAgICBwcmludCAnXHJceDFiWzE7OTdte1x4MWJbMTs5MW1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTFtQ3JhY2sgU3RhcnQgJyArIG8sDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkNCg0KICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1Vc2UgQWlycGxhbmUgTW9kZSBJZiBOb3RoaW5nIElzIFdvcmtpbmcnDQogICAgcHJpbnQgJ1x4MWJbMTs5NG1ceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODBceGUyXHg5NFx4ODAnDQoNCiAgICBkZWYgbWFpbihhcmcpOg0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCgnXHJ7fScpLmZvcm1hdChkYXRldGltZS5ub3coKS5zdHJmdGltZSgnXHgxYlsxOzk2bSVIXHgxYlsxOzkxbTpceDFiWzE7OTNtJU1ceDFiWzE7OTFtOlx4MWJbMTs5Mm0lUycpKSkNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHpvd2UgPSBhcmcNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgb3MubWtkaXIoJ2RvbmUnKQ0KICAgICAgICBleGNlcHQgT1NFcnJvcjoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBhbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIHpvd2UgKyAnLz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgICAgICAgICAgaiA9IGpzb24ubG9hZHMoYW4udGV4dCkNCiAgICAgICAgICAgIGJvczEgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjMnDQogICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3MxICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zMQ0KICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3MxDQogICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBib3MyID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzNCcNCiAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3MyICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zMg0KICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3MyDQogICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBib3MzID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzNDUnDQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3MzDQogICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNFS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3MzDQogICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBib3M0ID0gJ0tvbnRvbCcNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczQgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczUgPSAnU2F5YW5nJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczYgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NTYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczYgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M2DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczcgPSBqWydsYXN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1NicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczcgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M3DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczggPSAnU2F5YW5nNzg2Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczggKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZCkNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtRmluaXNoZWQgLi4uJw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtVG90YWwgXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzk3bTogXHgxYlsxOzkybScgKyBzdHIobGVuKG9rcykpICsgJ1x4MWJbMTs5N20vXHgxYlsxOzkzbScgKyBzdHIobGVuKGNla3BvaW50KSkNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzkzbWZpbGUgU2F2ZSBceDFiWzE7OTFtOiBceDFiWzE7OTJtZG9uZS9pbmRvLnR4dCcNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHJhd19pbnB1dCgnXHgxYlsxOzk3bXs8XHgxYlsxOzkzbUJhY2tceDFiWzE7OTdtPn0nKQ0KICAgIG9zLnN5c3RlbSgncHl0aG9uMiBEYXJrLUNsb25pbmcucHknKQ0KDQoNCmRlZiBjcmFja19saWtlcygpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHRyeToNCiAgICAgICAgdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bVshXSBUb2tlbiBpbnZhbGlkJw0KICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KICAgICAgICB0aW1lLnNsZWVwKDAuMDEpDQogICAgICAgIGxvZ2luKCkNCg0KICAgIHRyeToNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICAgICAgcHJpbnQgJyAgICAgICAgXHgxYlsxOzk2bVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZiBceDFiWzE7OTdtQ1JBQ0sgUE9TVElOR0FOIEdSVVAvZnJpZW5kXHgxYlsxOzk2bSBceGUyXHg5N1x4OGZceGUyXHg5N1x4OGZceGUyXHg5N1x4OGYnDQogICAgICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgICAgIHRleiA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bXtceDFiWzE7OTZtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX1ceDFiWzE7OTZtIElEIFBvc3RpbmdhbiBHcm91cC9mcmllbmQgXHgxYlsxOzkxbSA6XHgxYlsxOzkybSAnKQ0KICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgdGV6ICsgJy9saWtlcz9saW1pdD05OTk5OTk5JmFjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICAgICAgaWQuYXBwZW5kKGlbJ2lkJ10pDQoNCiAgICAgICAgamFsYW4oJ1xyXHgxYlsxOzk3bXtceDFiWzE7OTZtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk2bVRha2UgSUQgXHgxYlsxOzk3bS4uLicpDQogICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTFtIVx4MWJbMTs5N219IElEIEluY29ycmVjdCBQb3N0ICEnDQogICAgICAgIHJhd19pbnB1dCgnXG5ceDFiWzE7OTZtWzxceDFiWzE7OTdtQmFjaz5ceDFiWzE7OTZtXScpDQogICAgICAgIG1lbnUoKQ0KDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzk2bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5Nm1Ub3RhbCBJRCBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJyArIHN0cihsZW4oaWQpKQ0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Nm1ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTZtU3RvcCBUZWthbiBDVFJMK1onDQogICAgdGl0aWsgPSBbJy4gICAnLCAnLi4gICcsICcuLi4gJ10NCiAgICBmb3IgbyBpbiB0aXRpazoNCiAgICAgICAgcHJpbnQgJ1xyXHgxYlsxOzk3bXtceDFiWzE7OTZtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk2bUNyYWNrIFN0YXJ0aW5nICcgKyBvLA0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgdGltZS5zbGVlcCgxKQ0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bVVzZSBBaXJwbGFuZSBNb2RlIElmIE5vdGhpbmcgSXMgV29ya2luZycNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KDQogICAgZGVmIG1haW4oYXJnKToNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgoJ1xye30nKS5mb3JtYXQoZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJ1x4MWJbMTs5Nm0lSFx4MWJbMTs5MW06XHgxYlsxOzkzbSVNXHgxYlsxOzkxbTpceDFiWzE7OTJtJVMnKSkpDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICB6b3dlID0gYXJnDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG9zLm1rZGlyKCdkb25lJykNCiAgICAgICAgZXhjZXB0IE9TRXJyb3I6DQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyB6b3dlICsgJy8/YWNjZXNzX3Rva2VuPScgKyB0b2tldCkNCiAgICAgICAgICAgIGogPSBqc29uLmxvYWRzKGFuLnRleHQpDQogICAgICAgICAgICBib3MxID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzJw0KICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zMSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczENCiAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMSArICdcbicpDQogICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zMQ0KICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMSArICdcbicpDQogICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgYm9zMiA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQnDQogICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczINCiAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zMg0KICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgYm9zMyA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1Jw0KICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3MzICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zMw0KICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DRUtQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zMw0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgYm9zNCA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJ0AxMjMnDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3M0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3M1ID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMDA3Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczYgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NTYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczYgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M2DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M2ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczcgPSBqWydsYXN0X25hbWUnXS5sb3dlcigpICsgJzEyMzQ1NicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczcgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M3DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvczggPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NTY3ODknDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zOCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M4ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zOA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M4ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgIHAgPSBUaHJlYWRQb29sKDMwKQ0KICAgIHAubWFwKG1haW4sIGlkKQ0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5M21GaW5pc2hlZCAuLi4nDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5M21Ub3RhbCBceDFiWzE7OTJtT0tceDFiWzE7OTdtL1x4MWJbMTs5M21DUCBceDFiWzE7OTdtOiBceDFiWzE7OTJtJyArIHN0cihsZW4ob2tzKSkgKyAnXHgxYlsxOzk3bS9ceDFiWzE7OTNtJyArIHN0cihsZW4oY2VrcG9pbnQpKQ0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTJtT0tceDFiWzE7OTdtL1x4MWJbMTs5M21DUCBceDFiWzE7OTNtZmlsZSBTYXZlIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm1kb25lL2luZG8udHh0Jw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgcmF3X2lucHV0KCdceDFiWzE7OTdtezxceDFiWzE7OTNtQmFja1x4MWJbMTs5N20+fScpDQogICAgb3Muc3lzdGVtKCdweXRob24yIERhcmstQ2xvbmluZy5weScpDQoNCg0KZGVmIGNyYWNrX2ZvbGxvdygpOg0KICAgIHRva2V0ID0gb3BlbignbG9naW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCiAgICBwcmludCAnICAgICAgICAgICAgICBceDFiWzE7OTVtXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmXHhlMlx4OTdceDhmIFx4MWJbMTs5N21DUkFDSyBGT0xMT1dFUlMgXHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4Zlx4ZTJceDk3XHg4ZicNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIGlkdCA9IHJhd19pbnB1dCgnXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bUlEIFB1YmxpYy9mcmllbmQgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcpDQogICAgdHJ5Og0KICAgICAgICBqb2sgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgIG9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1OYW1hIFx4MWJbMTs5MW06XHgxYlsxOzkybSAnICsgb3BbJ25hbWUnXQ0KICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBJRCBwdWJsaWMvZnJpZW5kIHRoZXJlIGlzIG5vICEnDQogICAgICAgIHJhd19pbnB1dCgnXG5ceDFiWzE7OTVtW1x4MWJbMTs5N208QmFjaz5ceDFiWzE7OTVtXScpDQogICAgICAgIG1lbnUoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkxbSFceDFiWzE7OTdtfSBObyBpbnRlcm5ldCBDb25lY3Rpb24gIScNCiAgICAgICAga2VsdWFyKCkNCg0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL3N1YnNjcmliZXJzP2xpbWl0PTk5OTk5OSZhY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIGlkLmFwcGVuZChpWydpZCddKQ0KDQogICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1Ub3RhbCBJRCBGb2xsb3dlcnMgXHgxYlsxOzkxbTpceDFiWzE7OTJtICcgKyBzdHIobGVuKGlkKSkNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTVtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzk1bVN0b3AgVGVrYW4gQ1RSTCtaJw0KICAgIHRpdGlrID0gWycuICAgJywgJy4uICAnLCAnLi4uICddDQogICAgZm9yIG8gaW4gdGl0aWs6DQogICAgICAgIHByaW50ICdcclx4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1DcmFjayBTdGFydGluZyAnICsgbywNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzk1bVx4ZTJceDk3XHg4Zlx4MWJbMTs5N219IFx4MWJbMTs5NW1Vc2UgQWlycGxhbmUgTW9kZSBJZiBOb3RoaW5nIElzIFdvcmtpbmcnDQogICAgcHJpbnQgIlwwMzNbMTs5Nm0gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IiANCg0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoKCdccnt9JykuZm9ybWF0KGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCdceDFiWzE7OTZtJUhceDFiWzE7OTFtOlx4MWJbMTs5M20lTVx4MWJbMTs5MW06XHgxYlsxOzkybSVTJykpKQ0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgem93ZSA9IGFyZw0KICAgICAgICB0cnk6DQogICAgICAgICAgICBvcy5ta2RpcignZG9uZScpDQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOg0KICAgICAgICAgICAgcGFzcw0KDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGFuID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgem93ZSArICcvP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpDQogICAgICAgICAgICBqID0ganNvbi5sb2Fkcyhhbi50ZXh0KQ0KICAgICAgICAgICAgYm9zMSA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzEyMycNCiAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3MxDQogICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczENCiAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGJvczIgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0Jw0KICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczIgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3MyDQogICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczINCiAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGJvczMgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NScNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zMyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0VLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGJvczQgPSBqWydmaXJzdF9uYW1lJ10ubG93ZXIoKSArICdAMTIzJw0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHpvd2UgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgYm9zNCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkybVNVQ0NFU1NGVUwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTJtJyArIGJvczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTNtQ0hFQ0tQT0lOVCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5M20nICsgYm9zNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9zNSA9IGpbJ2ZpcnN0X25hbWUnXS5sb3dlcigpICsgJzAwNycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3M1ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAga28gPSBqc29uLmxvYWQoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBrbzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zNQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2Uud3JpdGUoJ1xue1x4YzNceDk3fSBTVUNDRVNTRlVMIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczUgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4ga29bJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay53cml0ZSgnXG57XHhjM1x4OTd9IENFS1BPSU5UIFxue1x4YzNceDk3fSBOYW1hICAgICA+ICcgKyBqWyduYW1lJ10gKyAnXG57XHhjM1x4OTd9IFVzZXIgICAgID4gJyArIHpvd2UgKyAnXG57XHhjM1x4OTd9IFBhc3N3b3JkID4gJyArIGJvczUgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3M2ID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnMTIzNDU2Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3M2ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtvID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTJtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zNg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNiArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gTmFtZSAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5M20nICsgalsnbmFtZSddDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3M2DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsgPSBvcGVuKCdkb25lL2luZG8udHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zNiArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHpvd2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3M3ID0galsnbGFzdF9uYW1lJ10ubG93ZXIoKSArICcxMjM0NTYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgem93ZSArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBib3M3ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4ga286DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBceDFiWzE7OTJtU1VDQ0VTU0ZVTCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gUGFzc3dvcmQgIFx4MWJbMTs5MW0+IFx4MWJbMTs5Mm0nICsgYm9zNw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tlLndyaXRlKCdcbntceGMzXHg5N30gU1VDQ0VTU0ZVTCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M3ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2UuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGtvWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5M21DSEVDS1BPSU5UJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFVzZXIgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIHpvd2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkzbScgKyBib3M3DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsud3JpdGUoJ1xue1x4YzNceDk3fSBDRUtQT0lOVCBcbntceGMzXHg5N30gTmFtYSAgICAgPiAnICsgalsnbmFtZSddICsgJ1xue1x4YzNceDk3fSBVc2VyICAgICA+ICcgKyB6b3dlICsgJ1xue1x4YzNceDk3fSBQYXNzd29yZCA+ICcgKyBib3M3ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWsuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3M4ID0galsnZmlyc3RfbmFtZSddLmxvd2VyKCkgKyAnQDEyMzQ1Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB6b3dlICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIGJvczggKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbyA9IGpzb24ubG9hZChkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGtvOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTdte1x4MWJbMTs5Mm1ceGMzXHg5N1x4MWJbMTs5N219IFx4MWJbMTs5Mm1TVUNDRVNTRlVMJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBOYW1lICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkybScgKyBqWyduYW1lJ10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N217XHgxYlsxOzkybVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlciAgXHgxYlsxOzkxbSAgICA+IFx4MWJbMTs5Mm0nICsgem93ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTJtXHhjM1x4OTdceDFiWzE7OTdtfSBQYXNzd29yZCAgXHgxYlsxOzkxbT4gXHgxYlsxOzkybScgKyBib3M4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZSA9IG9wZW4oJ2RvbmUvaW5kby50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS53cml0ZSgnXG57XHhjM1x4OTd9IFNVQ0NFU1NGVUwgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rZS5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoem93ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBrb1snZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5N217XHgxYlsxOzkzbVx4YzNceDk3XHgxYlsxOzk3bX0gXHgxYlsxOzkzbUNIRUNLUE9JTlQnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IE5hbWUgIFx4MWJbMTs5MW0gICAgPiBceDFiWzE7OTNtJyArIGpbJ25hbWUnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhjM1x4OTdceDFiWzE7OTdtfSBVc2VyICBceDFiWzE7OTFtICAgID4gXHgxYlsxOzkzbScgKyB6b3dlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGMzXHg5N1x4MWJbMTs5N219IFBhc3N3b3JkICBceDFiWzE7OTFtPiBceDFiWzE7OTNtJyArIGJvczgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrID0gb3BlbignZG9uZS9pbmRvLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKCdcbntceGMzXHg5N30gQ0VLUE9JTlQgXG57XHhjM1x4OTd9IE5hbWEgICAgID4gJyArIGpbJ25hbWUnXSArICdcbntceGMzXHg5N30gVXNlciAgICAgPiAnICsgem93ZSArICdcbntceGMzXHg5N30gUGFzc3dvcmQgPiAnICsgYm9zOCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh6b3dlKQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZCkNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtRmluaXNoZWQgLi4uJw0KICAgIHByaW50ICdceDFiWzE7OTdte1x4MWJbMTs5M21ceGUyXHg5N1x4OGZceDFiWzE7OTdtfSBceDFiWzE7OTNtVG90YWwgXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzk3bTogXHgxYlsxOzkybScgKyBzdHIobGVuKG9rcykpICsgJ1x4MWJbMTs5N20vXHgxYlsxOzkzbScgKyBzdHIobGVuKGNla3BvaW50KSkNCiAgICBwcmludCAnXHgxYlsxOzk3bXtceDFiWzE7OTNtXHhlMlx4OTdceDhmXHgxYlsxOzk3bX0gXHgxYlsxOzkybU9LXHgxYlsxOzk3bS9ceDFiWzE7OTNtQ1AgXHgxYlsxOzkzbWZpbGUgU2F2ZSBceDFiWzE7OTFtOiBceDFiWzE7OTJtZG9uZS9pbmRvLnR4dCcNCiAgICBwcmludCAiXDAzM1sxOzk2bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiIA0KICAgIHJhd19pbnB1dCgnXHgxYlsxOzk3bXs8XHgxYlsxOzkzbUJhY2tceDFiWzE7OTdtPn0nKQ0KICAgIG9zLnN5c3RlbSgncHl0aG9uMiBEYXJrLUNsb25pbmcucHknKQ0KDQoNCmRlZiB1c2VyX2lkKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICJcMDMzWzE7OTZtIMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3CuyIgDQogICAgbGluZyA9ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vJw0KICAgIHVybCA9IGxpbmcgKyByYXdfaW5wdXQoJ1x4MWJbMTs5N217XHgxYlsxOzk1bVx4YzNceDk3XHgxYlsxOzk3bX0gVXNlcm5hbWUgOiAnKQ0KICAgIGlkcmUgPSByZS5jb21waWxlKCciZW50aXR5X2lkIjoiKFswLTldKykiJykNCiAgICBwYWdlID0gcmVxdWVzdHMuZ2V0KHVybCkNCiAgICBwcmludCBpZHJlLmZpbmRhbGwocGFnZS5jb250ZW50KQ0KICAgIHJhd19pbnB1dCgnXG5ceDFiWzE7OTVtW1x4MWJbMTs5N208QmFjaz5ceDFiWzE7OTVtXScpDQogICAgbWVudSgpDQoNCg0KZGVmIHBlcmJhcnVpKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICdceDFiWzE7OTRtXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwXHhlMlx4OTRceDgwQmxhY2tNYWZpYVx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MFx4ZTJceDk0XHg4MCcNCiAgICBqYWxhbignXHgxYlsxOzkybVVwZGF0ZSBUb29scy4uLlx4MWJbMTs5M20nKQ0KICAgIG9zLnN5c3RlbSgnZ2l0IHB1bGwgb3JpZ2luIG1hc3RlcicpDQogICAgcmF3X2lucHV0KCdcblx4MWJbMTs5NG17XHgxYlsxOzk3bTxCYWNrPlx4MWJbMTs5NG19JykNCiAgICBvcy5zeXN0ZW0oJ3B5dGhvbjIgRGFyay1DbG9uaW5nLnB5JykNCg0KDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIG1lbnUoKQ0KICAgIGxvZ2luKCkNCiAgICBtYXN1aygpDQo='))
